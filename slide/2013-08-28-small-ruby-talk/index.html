<!DOCTYPE HTML>
<html lang="en">
<head>
  <title>Small Ruby Talk</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=792, user-scalable=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link href="http://fonts.googleapis.com/css?family=Roboto+Slab|Oxygen+Mono" rel="stylesheet" type="text/css">
  <link href="screen.css" rel="stylesheet" type="text/css">
</head>
<body class="list">
  <header class="caption"></header>

<section class="slide shout"><div>
  <h2>Small<br/><img src="http://upload.wikimedia.org/wikipedia/commons/7/73/Ruby_logo.svg" alt="Ruby"> Talk</h2>
</div></section>

<section class="slide shout"><div>
  <h2>Lisp <em>+</em> Smalltalk</h2>
</div></section>

<section class="slide shout"><div>
  <h2>Lisp: <em>Everything</em> is an expression</h2>
</div></section>

<section class="slide"><div>
  <h2>The followings are expressions:</h2>
  <ul>
    <li>Class definition</li>
    <li class="next">Method definition</li>
    <li class="next">if statement</li>
  </ul>
</div></section>

<section class="slide"><div>
  <h2>The followings are expressions:</h2>
  <ul>
    <li>Class definition</li>
    <li>Method definition</li>
    <li>if <em><span style="text-decoration: line-through">statement</span></em> expression</li>
  </ul>
</div></section>

<section class="slide"><div>
  <h2>Valid, but don't do this:</h2>
  <pre><code class="ruby">
p(if (class C; self; end)
  def f a=(def g a; 'g'; end)
    g a
  end
  g f
end) # => 'g'</code></pre>
</div></section>

<section class="slide shout"><div>
  <h2>Smalltalk: <em>Everything</em> is an object</h2>
</div></section>

<section class="slide"><div>
  <h2>The followings are objects:</h2>
  <ul>
    <li>Class</li>
    <li class="next">Method</li>
    <li class="next">TOPLEVEL_BINDING</li>
  </ul>
</div></section>

<section class="slide"><div>
  <h2>There's more than one<br> way to do it (perlish)</h2>
  <pre><code class="ruby">
Object.instance_method(:p).bind(self).call(self)
# => main</code></pre>
  <span class="next"><h2>Equivalent to:</h2>
    <pre><code>
p self # => main</code></pre></span>
</div></section>

<section class="slide"><div>
  <h2>Today's Topics:</h2>
  <ul>
    <li>Type System</li>
    <ul>
      <li class="next">Static Typing vs Dynamic Typing</li>
      <li class="next">Strong or Weak? Coercion?</li>
    </ul>
    <li class="next">Runtime System (object model)</li>
    <ul>
      <li class="next">Object is an Object itself</li>
      <li class="next">Singleton class? Pattern?</li>
    </ul>
    <li class="next">Muack -- Yet Another Mocking Library</li>
  </ul>
</div></section>

<section class="slide"><div>
  <h2>Static Typing vs<br>Dynamic Typing</h2>
  <ul>
    <li>They are not conflicting</li>
    <li class="next">
      Think of DT as "unityped" in ST
      <ul><li>ref: <a href="http://existentialtype.wordpress.com/2011/03/19/dynamic-languages-are-static-languages/">Dynamic languages are static languages</a></li></ul></li>
    <li class="next">Downcasting is dynamic type checking</li>
  </ul>
</div></section>

<section class="slide"><div>
  <h2>Extracted from gson</h2>
  <pre><code class="java">
@SuppressWarnings("unchecked")
public &lt;T&gt; T fromJson(String json, Type typeOfT) throws JsonSyntaxException {
  if (json == null) {
    return null;
  }
  StringReader reader = new StringReader(json);
  T target = <em>(T)</em> fromJson(reader, typeOfT);
  return target;
}</code></pre>
</div></section>

<section class="slide"><div>
  <h2>Duck Typing</h2>
  <pre><code class="ruby">
Duck.new.walk</code></pre>
  <span class="next"><h2>Could be thought as:</h2>
  <pre><code class="java">
Object duck = new Duck();
if(duck.isRespondingTo("walk"))
    duck.dispatch("walk");
else
    throw new NoMethodError(duck, "walk");</code></pre></span>
</div></section>

<section class="slide"><div>
  <h2>Strong or Weak? Coercion?</h2>
  <ul>
    <li>Vague terms</li>
    <li class="next">Implicit type coercion</li>
    <li class="next"></li>
  </ul>
</div></section>

<section class="slide"><div>
  <h2>Singleton Pattern</h2>
  <pre><code class="ruby">
require 'singleton'
class Mario
  include Singleton


  def greets
    puts "It's me, Mario!"
  end
end
Mario.instance.greets
</code></pre>
</div></section>

<section class="slide"><div>
  <h2>Singleton Pattern Underneath</h2>
  <pre><code class="ruby">
# (simplified)
class Mario
  def self.instance
    @instance ||= new
  end
  def greets
    puts "It's me, Mario!"
  end
end
Mario.instance.greets
</code></pre>
</div></section>

<section class="slide"><div>
  <h2>Singleton Pattern *Simplest*</h2>
  <pre><code class="ruby">

Mario = Object.new



  def Mario.greets
    puts "It's me, Mario!"
  end

Mario.greets
</code></pre>
</div></section>

<section class="slide shout"><div>
  <h2>Q?</h2>
</div></section>

  <div class="progress"><div></div></div>
  <script src='highlight.pack.js' type='text/javascript'></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="shower.min.js"></script>
</body>
</html>
